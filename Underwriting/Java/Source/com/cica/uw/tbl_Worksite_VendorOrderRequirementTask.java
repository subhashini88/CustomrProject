/*
  This class has been generated by the Code Generator
*/

package com.cica.uw;

import com.cordys.cpc.bsf.busobject.BusObjectConfig;
import com.cordys.cpc.bsf.busobject.BusObjectIterator;
import com.cordys.cpc.bsf.busobject.QueryObject;
import com.cordys.cpc.bsf.busobject.DMLStatement;

public class tbl_Worksite_VendorOrderRequirementTask extends tbl_Worksite_VendorOrderRequirementTaskBase
{
    public tbl_Worksite_VendorOrderRequirementTask()
    {
        this((BusObjectConfig)null);
    }

    public tbl_Worksite_VendorOrderRequirementTask(BusObjectConfig config)
    {
        super(config);
    }

    public static BusObjectIterator<com.cica.uw.tbl_Worksite_VendorOrderRequirementTask> getWKSVendorOrderDetailsby_CaseID(String CaseID)
    {
        String queryText = "select * from \"tbl_Worksite_VendorOrderRequirementTask\" where \"case_id\" = '"+CaseID+"' ";
        QueryObject query = new QueryObject(queryText);
        query.addParameter("case_id", "tbl_Worksite_VendorOrderRequirementTask.case_id", QueryObject.PARAM_STRING, CaseID);//NOPMD
        query.setResultClass(tbl_Worksite_VendorOrderRequirementTask.class);
        return query.getObjects();
    }

 public static BusObjectIterator<com.cica.uw.tbl_Worksite_VendorOrderRequirementTask> GetWKSVendorOrderDetailsby_CaseID_Status(String CaseID, String Status, String OrderNo, String task_ID)
    {
       String queryText = "select * from \"tbl_Worksite_VendorOrderRequirementTask\" where \"case_id\" = '"+CaseID+"' and CONVERT(VARCHAR(MAX), RequirementStatus) = '"+Status+"'";
			if(OrderNo != null && !OrderNo.trim().isEmpty() && (!OrderNo.equalsIgnoreCase("PARAMETER"))) 
			queryText=queryText+"and OrderedRequirement='"+OrderNo+"'";
			if(task_ID != null && !task_ID.trim().isEmpty() && (!task_ID.equalsIgnoreCase("PARAMETER"))) 
			queryText=queryText+"and task_id='"+task_ID+"'";
        QueryObject query = new QueryObject(queryText);
        query.addParameter("case_id", "tbl_Worksite_VendorOrderRequirementTask.case_id", QueryObject.PARAM_STRING, CaseID);//NOPMD
		query.addParameter("RequirementStatus", "tbl_Worksite_VendorOrderRequirementTask.RequirementStatus", QueryObject.PARAM_STRING, Status);
		query.addParameter("OrderedRequirement", "tbl_Worksite_VendorOrderRequirementTask.OrderedRequirement", QueryObject.PARAM_STRING, OrderNo);
		query.addParameter("task_id", "tbl_Worksite_VendorOrderRequirementTask.task_id", QueryObject.PARAM_STRING, task_ID);
        query.setResultClass(tbl_Worksite_VendorOrderRequirementTask.class);
        return query.getObjects();
    }
  public static BusObjectIterator<com.cica.uw.tbl_Worksite_VendorOrderRequirementTask> getWKSVendorOrderDetailsby_CaseNTaskID(String CaseID, String task_ID)
    {
        String queryText = "select * from \"tbl_Worksite_VendorOrderRequirementTask\" where \"case_id\" = '"+CaseID+"' and \"task_id\" = '"+task_ID+"' ";
        QueryObject query = new QueryObject(queryText);
        query.addParameter("case_id", "tbl_Worksite_VendorOrderRequirementTask.case_id", QueryObject.PARAM_STRING, CaseID);//NOPMD
        query.addParameter("task_id", "tbl_Worksite_VendorOrderRequirementTask.task_id", QueryObject.PARAM_STRING, task_ID);//NOPMD
        query.setResultClass(tbl_Worksite_VendorOrderRequirementTask.class);
        return query.getObjects();
    }
	 public static int deleteWKSVendorOrderUsingTaskID_OrderNo(String taskID, String orderNO)
	{
DMLStatement dml = null;
		String queryText="delete from tbl_Worksite_VendorOrderRequirementTask where task_id='"+taskID+"' and OrderedRequirement='"+orderNO+"' and CONVERT(VARCHAR(MAX), RequirementStatus) ='Draft'";
		dml = new DMLStatement(queryText);
		dml.execute();
		return (int)1;
	}
}
