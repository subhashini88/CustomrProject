/*
  This class has been generated by the Code Generator
*/

package com.cica.uw;

import com.cordys.cpc.bsf.busobject.BusObjectConfig;
import com.cordys.cpc.bsf.busobject.BusObjectIterator;
import com.cordys.cpc.bsf.busobject.QueryObject;
import com.cordys.cpc.bsf.classinfo.AttributeInfo;
import com.cordys.cpc.bsf.classinfo.ClassInfo;
import com.cordys.cpc.bsf.listeners.constraint.NumberValidator;
import com.cordys.cpc.bsf.listeners.constraint.StringValidator;




public class SearchFieldsData extends SearchFieldsDataBase
{
    public SearchFieldsData()
    {
        this((BusObjectConfig)null);
    }

    public SearchFieldsData(BusObjectConfig config)
    {
        super(config);
    }

public static BusObjectIterator<com.cica.uw.SearchFieldsData> getSearchFiledsDataObjsForElement(String ElementName)
    {
        String queryText = "select * from \"SearchFieldsData\"  where ElementName=:ElementName order by ElementValue";
        QueryObject query = new QueryObject(queryText);
        query.addParameter("ElementName", "SearchFieldsData.ElementName", QueryObject.PARAM_STRING, ElementName);
        query.setResultClass(SearchFieldsData.class);
        return query.getObjects();
    }
   public static BusObjectIterator<com.cica.uw.SearchFieldsData> getSearchFiledsDataObjsForElementNameNVal(String ElementName,String ElementValue)
    {
        String queryText ="";
        if(!ElementName.equalsIgnoreCase("")){
        if((!ElementValue.equalsIgnoreCase(""))&&(!ElementValue.equalsIgnoreCase("*")))
          queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp from \"SearchFieldsData\"  where ElementName=:ElementName and UPPER(ElementValue) like UPPER('%"+ElementValue+"%') order by ElementDesc asc";
        else queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\"  where ElementName=:ElementName order by ElementDesc asc";
       }
        QueryObject query = new QueryObject(queryText);
        query.addParameter("ElementName", "SearchFieldsData.ElementName", QueryObject.PARAM_STRING, ElementName);
        
        query.setResultClass(SearchFieldsData.class);
        return query.getObjects();
    }
	public static BusObjectIterator<com.cica.uw.SearchFieldsData> getSearchFiledsDataObjsForElementNameNVal(String ElementName, String ElementValue, String TaskType)
    {
        String queryText ="";
        if(!ElementName.equalsIgnoreCase("")){
        if((!ElementValue.equalsIgnoreCase(""))&&(!ElementValue.equalsIgnoreCase("*")))
          queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp from \"SearchFieldsData\"  where ElementName=:ElementName and UPPER(ElementValue) like UPPER('%"+ElementValue+"%') order by ElementDesc asc";
		  else if(TaskType.equals("BOTH"))
		  //queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\"  where ElementName=:ElementName order by ElementDesc asc"; 
//tofetch unique values if we have duplicates
 queryText = "select * from (select *,ROW_NUMBER() OVER(PARTITION BY ElementValue Order by ElementDesc) as rankno , concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\") as ranked where ElementName=:ElementName and rankno = 1 order by ElementDesc asc";

else if (TaskType.equals("PFP"))
         queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\"  where ElementName=:ElementName and CaseOrTaskName like '%"+TaskType+"%' order by ElementDesc asc";
       
else
              queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\"  where ElementName=:ElementName and CaseOrTaskName  not  like  '%PFP%'  order by ElementDesc asc";
}
        QueryObject query = new QueryObject(queryText);
        query.addParameter("ElementName", "SearchFieldsData.ElementName", QueryObject.PARAM_STRING, ElementName);
        query.addParameter("TaskType", "SearchFieldsData.TaskType", QueryObject.PARAM_STRING, TaskType);
        query.setResultClass(SearchFieldsData.class);
        return query.getObjects();
    }
	 public static BusObjectIterator<com.cica.uw.SearchFieldsData> getSearchFiledsDataObjsForEleNameandValue(String ElementName, String ElementValue)
    {
        String queryText ="";
        if(!ElementName.equalsIgnoreCase("")){
        if((!ElementValue.equalsIgnoreCase(""))&&(!ElementValue.equalsIgnoreCase("*")))
          queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp from \"SearchFieldsData\"  where ElementName=:ElementName and UPPER(ElementValue) like UPPER('%"+ElementValue+"%') order by ElementDesc asc";
        else queryText = "select *,concat(ElementValue,'::',ElementDesc) AS ElementProp  from \"SearchFieldsData\"  where ElementName=:ElementName order by ElementDesc asc";
       }
        QueryObject query = new QueryObject(queryText);
        query.addParameter("ElementName", "SearchFieldsData.ElementName", QueryObject.PARAM_STRING, ElementName);
        
        query.setResultClass(SearchFieldsData.class);
        return query.getObjects();
    }
}