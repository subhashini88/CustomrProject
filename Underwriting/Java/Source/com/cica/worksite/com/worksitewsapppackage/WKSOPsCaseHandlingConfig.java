/*
  This class has been generated by the Code Generator
*/

package com.worksitewsapppackage;

import com.cordys.cpc.bsf.busobject.BusObjectConfig;
import com.cordys.cpc.bsf.busobject.QueryObject;
import java.util.*;
import com.cordys.cpc.bsf.busobject.BSF;

public class WKSOPsCaseHandlingConfig extends WKSOPsCaseHandlingConfigBase
{
    public WKSOPsCaseHandlingConfig()
    {
        this((BusObjectConfig)null);
    }

    public WKSOPsCaseHandlingConfig(BusObjectConfig config)
    {
        super(config);
    }
    public static String  validatePlanIDs(String  param1,String param2 , String param3 , String param4)
    {
	  
	
       String query[] = new String[4];
	   String excQuery[] = new String[4];
	   String ret = "true";
		
	  //String query[] = new String[4];
	  //query[0] = "";query[1]="";query[2]="";query[3]="";
	  String ele1 = param1; String ele2  = param2 ; String ele3 = param3;String ele4 = param4;
	  
	   String [] obj1 = null ; 
	 		boolean semContainsGroupCI = ele1.contains(";");
	 		if(semContainsGroupCI){
	 			ele1 = ele1.replaceAll(";",",");
	 			obj1 = ele1.split(",");
	 		}else{
	 			obj1 = ele1.split(",");
	 		}
  if(obj1[0]!=null)
  {
	if(obj1[0].equals("Group CI"))
	{
		String location = "'**'";
		if(obj1[1]!=null&&obj1[1]!="")
		{
			location = location+","+"'"+obj1[1]+"'";
		}
		   for(int i =2;i<obj1.length;i++)
    	   {
    		  String queryText =  "select * from WKSOPsCaseHandlingConfig where PLANNAME = '"+obj1[0]+"'  and STATE in ("+location+") AND TYPE1 = '"+obj1[i]+"'";
    		  QueryObject query2 = new QueryObject(queryText);
    	      query2.setResultClass(WKSOPsCaseHandlingConfig.class);
    			
    			//WKSOPsCaseHandlingConfig obj1 =  query.getObject();
    			if(query2.getObject()==null )
    			{
    	          return "false"; 
    			}
    	   }
	}
  }
	
    String [] obj2 = null ; 
	boolean semContainsIC = ele2.contains(";");
	if(semContainsIC){
		ele2 = ele2.replaceAll(";",",");
		obj2 = ele2.split(",");
	}else{
		obj2 = ele2.split(",");
	}
	
 if(obj2[0]!=null)
  {  
           if(obj2[0].equals("Individual CI"))
               {
        	   for(int i =2;i<obj2.length;i++)
        	   {
        		  String queryText =  "select * from WKSOPsCaseHandlingConfig where PLANNAME = '"+obj2[0]+"'  and STATE = '"+obj2[1]+"' AND TYPE1 = '"+obj2[i]+"'";
        		  QueryObject query2 = new QueryObject(queryText);
        	      query2.setResultClass(WKSOPsCaseHandlingConfig.class);
        			
        			//WKSOPsCaseHandlingConfig obj1 =  query.getObject();
        			if(query2.getObject()==null )
        			{
        	          return "false"; 
        			}
        	   }
             }
 }
String [] obj3 = null ; 
	boolean semContainsIA = ele3.contains(";");
	if(semContainsIA){
		ele3 = ele3.replaceAll(";",",");
		obj3 = ele3.split(",");
	}else{
		obj3 = ele3.split(",");
	}
if(obj3[0]!=null)	
{	
if(obj3[0].equals("Individual"))
{
	 
	  for(int i =3;i<obj3.length;i++)
	   {
		  String queryText =  "select * from WKSOPsCaseHandlingConfig where PLANNAME = '"+obj3[0]+"'  and STATE = '"+obj3[1]+"' and TYPE2 ='"+obj3[2]+"' AND TYPE1 = '"+obj3[i]+"'";
		  QueryObject query2 = new QueryObject(queryText);
	      query2.setResultClass(WKSOPsCaseHandlingConfig.class);
			
			//WKSOPsCaseHandlingConfig obj3 =  query.getObject();
			if(query2.getObject()==null )
			{
	             return "false"; 
			}
	   }
   
 }
}	
	//String [] obj4 =  ele4.split(",");
	
	 String [] obj4 = null ; 
		boolean semContainsDI = ele4.contains(";");
		if(semContainsDI){
			ele4 = ele4.replaceAll(";",",");
			obj4 = ele4.split(",");
		}else{
			obj4 = ele4.split(",");
		}

  if(obj4!=null)
  {
	if(obj4[0].equals("DI"))
		
	{
		String location = "'**'";
		if(obj4[1]!=null&&obj4[1]!="")
		{
			location = location+","+"'"+obj4[1]+"'";
		}
		 for(int i =4;i<obj4.length;i++)
  	   {
  		  String queryText =  "select * from WKSOPsCaseHandlingConfig where PLANNAME = '"+obj4[0]+"'  and STATE in ("+location+") AND TYPE2 = '"+obj4[2]+"' AND TYPE3 = '"+obj4[3]+"'   AND TYPE1 = '"+obj4[i]+"'";
  		  QueryObject query2 = new QueryObject(queryText);
  	      query2.setResultClass(WKSOPsCaseHandlingConfig.class);
  			
  			//WKSOPsCaseHandlingConfig obj4 =  query.getObject();
  			if(query2.getObject()==null )
  			{
  	          return "false"; 
  			}
  	   }
	}
  }
	
    return ret;
 }
protected void onBeforeInsert()
{
String userDN = BSF.getUser();
this.setCreatedDate(new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60 * 1000)));
this.setCreatedBy(userDN.substring(3,userDN.indexOf(",")));
}
protected void onBeforeUpdate()
{
String userDN = BSF.getUser();
this.setUpdatedDate(new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60 * 1000)));
this.setUpdatedBy(userDN.substring(3,userDN.indexOf(",")));
}

}
