/*
  This class has been generated by the Code Generator
*/

package com.worksitewsapppackage;

import com.cordys.cpc.bsf.busobject.BusObjectConfig;
import com.cordys.cpc.bsf.busobject.BusObjectIterator;
import com.cordys.cpc.bsf.busobject.QueryObject;
import java.util.*;
import com.cordys.cpc.bsf.busobject.BSF;

public class WKSUWCase extends WKSUWCaseBase
{
    public WKSUWCase()
    {
        this((BusObjectConfig)null);
    }

    public WKSUWCase(BusObjectConfig config)
    {
        super(config);
    }

 public static com.worksitewsapppackage.WKSUWCase getWorksiteObjectByCaseInstanceId(String CaseInstanceId)
    {
		String queryText = "select * from WKSUWCase where CaseInstanceId = :CaseInstanceId";
        QueryObject query = new QueryObject(queryText);
        query.addParameter("CaseInstanceId", "WKSUWCase.CaseInstanceId", QueryObject.PARAM_STRING, CaseInstanceId);
        query.setResultClass(WKSUWCase.class);
        return (WKSUWCase)query.getObject();
    }
	
	
	    public static BusObjectIterator<com.worksitewsapppackage.WKSUWCase> getDistinctUWCaseStatus()
    {
        String queryText="SELECT distinct Status from WKSUWCase";
        QueryObject query = new QueryObject(queryText);
        
        query.setResultClass(WKSUWCase.class);
        return query.getObjects();
    }
	
	 public static BusObjectIterator<com.worksitewsapppackage.WKSUWCase> getUWCaseByStatusAndDate(String Status, String CaseCreationDate)
    {

String queryText = "select * from \"WKSUWCase\" where \"Status\" = :Status AND \"CaseCreationDate\" > :CaseCreationDate Order by CaseCreationDate DESC";
        QueryObject query = new QueryObject(queryText);        
        query.addParameter("Status", "WKSUWCase.Status", QueryObject.PARAM_STRING, Status);//NOPMD
		query.addParameter("CaseCreationDate", "WKSUWCase.CaseCreationDate", QueryObject.PARAM_STRING, CaseCreationDate);//NOPMD
        query.setResultClass(WKSUWCase.class);       
        return query.getObjects();

	}
		
	   public static BusObjectIterator<com.worksitewsapppackage.WKSUWCase> GetUWCaseByStatusNullAndDate(String CaseCreationDate)
    {

        String queryText = "select * from WKSUWCase where Status IS NULL AND CaseCreationDate > :CaseCreationDate Order by CaseCreationDate DESC";
        QueryObject query = new QueryObject(queryText);        
		query.addParameter("CaseCreationDate", "WKSUWCase.CaseCreationDate", QueryObject.PARAM_STRING, CaseCreationDate);//NOPMD
        query.setResultClass(WKSUWCase.class);       
        return query.getObjects();
    }

	
protected void onBeforeInsert()
{
String userDN = BSF.getUser();
this.setCreatedOn(new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60 * 1000)));
this.setCreatedBy(userDN.substring(3,userDN.indexOf(",")));
}
protected void onBeforeUpdate()
{
String userDN = BSF.getUser();
this.setUpdatedOn(new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60 * 1000)));
this.setUpdatedBy(userDN.substring(3,userDN.indexOf(",")));
}


}
